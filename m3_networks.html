<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Computer Networks - Master Quiz</title>
    <style>
        :root { --blue: #003366; --orange: #ff9933; --green: #28a745; --red: #dc3545; }
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; padding: 20px; color: #333; line-height: 1.6; }
        .quiz-container { max-width: 900px; margin: auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header { border-bottom: 4px solid var(--blue); padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
        .back-link { text-decoration: none; color: var(--blue); font-weight: bold; padding: 8px 15px; border: 1px solid var(--blue); border-radius: 5px; }
        
        .question { margin-bottom: 30px; padding: 20px; border-radius: 10px; background: #fff; border: 1px solid #eee; transition: 0.3s; }
        .question.unanswered { border-left: 5px solid var(--red); background: #fff8f8; }
        .q-text { font-size: 1.15rem; font-weight: 600; margin-bottom: 15px; color: var(--blue); }
        .option { display: block; padding: 14px; background: #f9f9f9; margin: 10px 0; border: 1.5px solid #ddd; border-radius: 8px; cursor: pointer; }
        .option:hover { background: #eef2f7; border-color: var(--blue); }
        
        .btn-submit { background: var(--blue); color: white; border: none; padding: 18px; border-radius: 8px; cursor: pointer; font-size: 1.2rem; font-weight: bold; width: 100%; margin-top: 20px; }

        #result-modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center; 
        }
        .modal-content { 
            background: white; padding: 30px; border-radius: 15px; text-align: center; 
            max-width: 500px; width: 90%; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .stat-line { font-size: 1.1rem; margin: 10px 0; display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding: 5px 0; }
        .percentage { font-size: 3rem; font-weight: bold; color: var(--blue); margin: 15px 0; }
        .diagram-box { text-align: center; margin: 20px 0; padding: 15px; border: 1px dashed #ccc; border-radius: 10px; }
    </style>
</head>
<body>

<div class="quiz-container">
    <div class="header">
        <div>
            <h2 style="margin:0;">Computer Networks</h2>
            <span id="set-info" style="color: var(--orange); font-weight: bold;">Set Loading...</span>
        </div>
        <a href="index.html" class="back-link">Dashboard</a>
    </div>

    <div class="diagram-box">
        
    </div>

    <form id="quiz-form">
        <div id="questions-area"></div>
        <button type="button" class="btn-submit" onclick="checkSubmission()">Submit & View Detailed Result</button>
    </form>
</div>

<div id="result-modal">
    <div class="modal-content">
        <h2 id="msg-text">Quiz Results</h2>
        <div class="percentage" id="perc-display">0%</div>
        <div id="stats-area"></div>
        <button onclick="location.reload()" style="background: var(--blue); color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Try Again</button>
        <button onclick="closeModal()" style="background: #666; color: white; border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; margin-top: 20px;">Review Answers</button>
    </div>
</div>

<script>
const quizData = {
    "1": [
        { q: "Which OSI layer is responsible for routing data packets?", o: ["Physical", "Data Link", "Network", "Transport"], a: 2 },
        { q: "What is the size of an IPv4 address?", o: ["16 bits", "32 bits", "64 bits", "128 bits"], a: 1 },
        { q: "Which protocol is used for sending emails?", o: ["HTTP", "FTP", "SMTP", "SNMP"], a: 2 },
        { q: "What does DNS stand for?", o: ["Data Network System", "Domain Name System", "Digital Name Service", "Direct Network Serial"], a: 1 },
        { q: "Which device operates primarily at the Data Link layer?", o: ["Hub", "Switch", "Router", "Gateway"], a: 1 },
        { q: "HTTP operates on which port by default?", o: ["21", "25", "80", "443"], a: 2 },
        { q: "What is the MAC address length?", o: ["32 bits", "48 bits", "64 bits", "128 bits"], a: 1 },
        { q: "Which layer provides end-to-end communication services?", o: ["Network", "Transport", "Session", "Presentation"], a: 1 },
        { q: "Which protocol is 'connectionless'?", o: ["TCP", "UDP", "FTP", "HTTP"], a: 1 },
        { q: "A private network that uses internet technologies is called:", o: ["Extranet", "Intranet", "Ethernet", "Internetwork"], a: 1 },
        { q: "Which topology uses a central controller or hub?", o: ["Bus", "Star", "Ring", "Mesh"], a: 1 },
        { q: "What is the range of Class A IP addresses?", o: ["1-126", "128-191", "192-223", "224-239"], a: 0 },
        { q: "FTP uses which two ports?", o: ["20 & 21", "22 & 23", "80 & 443", "53 & 67"], a: 0 },
        { q: "What is the purpose of the ARP protocol?", o: ["Resolve IP to MAC", "Resolve MAC to IP", "Error reporting", "File transfer"], a: 0 },
        { q: "Which layer handles data encryption and compression?", o: ["Application", "Presentation", "Session", "Transport"], a: 1 },
        { q: "What is the maximum data rate for standard Bluetooth 1.0?", o: ["1 Mbps", "11 Mbps", "54 Mbps", "100 Mbps"], a: 0 },
        { q: "Which command is used to test network connectivity?", o: ["netstat", "ipconfig", "ping", "tracert"], a: 2 },
        { q: "Which address is used to identify a process on a host?", o: ["IP address", "MAC address", "Port address", "Logical address"], a: 2 },
        { q: "What is a 'firewall' used for?", o: ["Security", "Faster browsing", "Data storage", "IP routing"], a: 0 },
        { q: "Which protocol is used to automatically assign IP addresses?", o: ["DNS", "DHCP", "ICMP", "IGMP"], a: 1 },
        { q: "The term 'Bandwidth' refers to:", o: ["Data speed", "Transmission capacity", "Signal strength", "Cable length"], a: 1 },
        { q: "Which cable type is most immune to electromagnetic interference?", o: ["Coaxial", "UTP", "STP", "Fiber Optic"], a: 3 },
        { q: "What is the loopback IP address?", o: ["127.0.0.1", "192.168.1.1", "255.255.255.0", "10.0.0.1"], a: 0 },
        { q: "Which OSI layer is closest to the user?", o: ["Physical", "Presentation", "Application", "Session"], a: 2 },
        { q: "What does 'Full Duplex' mean?", o: ["One way only", "One way at a time", "Both ways simultaneously", "None of these"], a: 2 },
        { q: "Which protocol is used for remote terminal access?", o: ["SSH", "HTTP", "SNMP", "POP3"], a: 0 },
        { q: "What is the default port for HTTPS?", o: ["80", "110", "443", "143"], a: 2 },
        { q: "Which sublayer of Data Link handles access to the medium?", o: ["LLC", "MAC", "Physical", "Network"], a: 1 },
        { q: "What is the size of an IPv6 address?", o: ["32 bits", "64 bits", "128 bits", "256 bits"], a: 2 },
        { q: "Which error detection method uses a generator polynomial?", o: ["Checksum", "Parity", "CRC", "Hamming Code"], a: 2 },
        { q: "A bridge connects:", o: ["Two similar LANs", "Two different LANs", "A LAN and a WAN", "Two WANs"], a: 0 },
        { q: "What is the function of ICMP?", o: ["Routing", "Error and status reporting", "Data encryption", "Name resolution"], a: 1 },
        { q: "Which device is used to connect a computer to a telephone line?", o: ["Router", "Hub", "Modem", "Switch"], a: 2 },
        { q: "The 'Application' layer of the TCP/IP model corresponds to which OSI layers?", o: ["1, 2, 3", "5, 6, 7", "4, 5", "All layers"], a: 1 },
        { q: "Which network covers a city or a large campus?", o: ["LAN", "MAN", "WAN", "PAN"], a: 1 },
        { q: "What is 'jitter' in networking?", o: ["Signal loss", "Variation in packet delay", "Network congestion", "Cable noise"], a: 1 },
        { q: "Which layer is responsible for flow control and error control?", o: ["Physical", "Network", "Data Link", "Session"], a: 2 },
        { q: "What does 'WLAN' stand for?", o: ["Wide Local Area Network", "Wireless Local Area Network", "Wired Local Area Network", "Web Local Area Network"], a: 1 },
        { q: "Which protocol is used to retrieve emails from a server?", o: ["SMTP", "POP3", "SNMP", "FTP"], a: 1 },
        { q: "A 'Collision' is a problem in which topology?", o: ["Star", "Mesh", "Bus", "Point-to-point"], a: 2 }
    ],
    "2": [
        { q: "Which layer defines the mechanical and electrical specifications?", o: ["Data Link", "Physical", "Transport", "Network"], a: 1 },
        { q: "What is the standard for Ethernet?", o: ["IEEE 802.3", "IEEE 802.11", "IEEE 802.5", "IEEE 802.15"], a: 0 },
        { q: "Which IP class is used for multicasting?", o: ["Class A", "Class B", "Class C", "Class D"], a: 3 },
        { q: "The 'Ping' command uses which protocol?", o: ["TCP", "UDP", "ICMP", "ARP"], a: 2 },
        { q: "What is the purpose of a 'Default Gateway'?", o: ["Speed up internet", "Connect to other networks", "Assign IP", "Filter virus"], a: 1 },
        { q: "Which port does DNS use?", o: ["21", "53", "80", "443"], a: 1 },
        { q: "What is 'Piggybacking'?", o: ["Adding data to ACK", "Adding ACK to data frame", "Compression", "Encryption"], a: 1 },
        { q: "Which layer is responsible for dialogue control?", o: ["Application", "Presentation", "Session", "Transport"], a: 2 },
        { q: "What is the maximum segment length of 10Base5?", o: ["100m", "200m", "500m", "1000m"], a: 2 },
        { q: "Which protocol is used to manage and monitor network devices?", o: ["SMTP", "SNMP", "SMTP", "SSH"], a: 1 },
        { q: "What is 'Attentuation'?", o: ["Signal gain", "Signal loss over distance", "Frequency shift", "Data collision"], a: 1 },
        { q: "Which device divides a network into logical segments?", o: ["Hub", "Repeater", "Switch", "Amplifier"], a: 2 },
        { q: "What is the data unit at the Transport layer?", o: ["Bits", "Frames", "Packets", "Segments"], a: 3 },
        { q: "Which class of IP address has the first octet 192?", o: ["Class A", "Class B", "Class C", "Class D"], a: 2 },
        { q: "What is the primary function of the Presentation layer?", o: ["Routing", "Syntax and Semantics", "Flow control", "Error detection"], a: 1 },
        { q: "Which wireless standard is known as Wi-Fi?", o: ["802.3", "802.11", "802.15", "802.16"], a: 1 },
        { q: "A 'Hub' is a _____ layer device.", o: ["Physical", "Data Link", "Network", "Application"], a: 0 },
        { q: "Which switching technique establishes a dedicated path?", o: ["Packet Switching", "Message Switching", "Circuit Switching", "None of these"], a: 2 },
        { q: "What is the port number for Telnet?", o: ["21", "22", "23", "25"], a: 2 },
        { q: "The address 255.255.255.255 is a:", o: ["Loopback", "Limited Broadcast", "Multicast", "Private IP"], a: 1 },
        { q: "Which protocol provides reliable, ordered delivery?", o: ["UDP", "IP", "TCP", "ICMP"], a: 2 },
        { q: "What is 'Crosstalk'?", o: ["Fast talking", "Signal interference between adjacent wires", "Network echo", "None"], a: 1 },
        { q: "Which layer of the OSI model ensures segments are received in order?", o: ["Data Link", "Network", "Transport", "Physical"], a: 2 },
        { q: "What does 'CSMA/CD' stand for?", o: ["Carrier Sense Multiple Access / Collision Detection", "Control Signal Multiple Access", "Carrier Sync Mode Access", "None"], a: 0 },
        { q: "Which field in the IP header prevents packets from looping infinitely?", o: ["Checksum", "TTL", "Protocol", "Flags"], a: 1 },
        { q: "What is the data unit at the Data Link layer?", o: ["Bits", "Frames", "Packets", "Segments"], a: 1 },
        { q: "Which network device works at the Network layer?", o: ["Hub", "Switch", "Router", "Bridge"], a: 2 },
        { q: "What is the default subnet mask for Class B?", o: ["255.0.0.0", "255.255.0.0", "255.255.255.0", "255.255.255.255"], a: 1 },
        { q: "Which protocol is used for file transfer over the web?", o: ["FTP", "HTTP", "SMTP", "SNMP"], a: 0 },
        { q: "A 48-bit address is generally known as:", o: ["IP Address", "MAC Address", "Logical Address", "Port Address"], a: 1 },
        { q: "What is the range of Class C IP addresses?", o: ["1-126", "128-191", "192-223", "224-239"], a: 2 },
        { q: "Which topology is highly reliable but expensive to implement?", o: ["Star", "Bus", "Mesh", "Ring"], a: 2 },
        { q: "What is the role of the Session layer?", o: ["Encryption", "Dialogue Management", "Routing", "Physical transmission"], a: 1 },
        { q: "Which port is used by POP3?", o: ["25", "53", "110", "143"], a: 2 },
        { q: "What is a 'Gateway'?", o: ["A simple switch", "A node that connects two different network types", "A virus", "A type of cable"], a: 1 },
        { q: "Which layer handles the 'framing' of data?", o: ["Physical", "Data Link", "Network", "Transport"], a: 1 },
        { q: "The 'www' uses which protocol?", o: ["FTP", "HTTP", "SNMP", "SMTP"], a: 1 },
        { q: "Which command is used to see the route a packet takes?", o: ["ping", "route", "tracert", "ipconfig"], a: 2 },
        { q: "What is 'Baud rate'?", o: ["Bits per second", "Signal changes per second", "Packet speed", "None"], a: 1 },
        { q: "Which IP address is reserved for testing purposes?", o: ["10.0.0.1", "127.0.0.1", "172.16.0.1", "192.168.0.1"], a: 1 }
    ],
    "3": [
        { q: "Which protocol is used by the World Wide Web?", o: ["HTTP", "FTP", "TELNET", "SMTP"], a: 0 },
        { q: "What is the data rate of a standard T1 line?", o: ["64 Kbps", "1.544 Mbps", "2.048 Mbps", "45 Mbps"], a: 1 },
        { q: "Which OSI layer handles the electrical signal?", o: ["Transport", "Data Link", "Network", "Physical"], a: 3 },
        { q: "What is the function of a 'Repeater'?", o: ["Store data", "Filter data", "Amplify/Regenerate signal", "Route data"], a: 2 },
        { q: "What is the maximum length of an SSID?", o: ["8 chars", "16 chars", "32 chars", "64 chars"], a: 2 },
        { q: "Which protocol is used for transferring web pages securely?", o: ["HTTP", "SSH", "HTTPS", "SSL"], a: 2 },
        { q: "What is the first octet range for Class D?", o: ["1-126", "192-223", "224-239", "240-255"], a: 2 },
        { q: "The '3-way handshake' is a feature of:", o: ["UDP", "IP", "TCP", "ICMP"], a: 2 },
        { q: "Which connector is used with UTP cable?", o: ["RJ-11", "RJ-45", "BNC", "SC"], a: 1 },
        { q: "What is 'Unicast'?", o: ["One to many", "One to all", "One to one", "Many to many"], a: 2 },
        { q: "Which layer is responsible for logical addressing?", o: ["Data Link", "Network", "Transport", "Physical"], a: 1 },
        { q: "What does 'DHCP' stand for?", o: ["Dynamic Host Configuration Protocol", "Digital Host Control Protocol", "Data Handover Protocol", "None"], a: 0 },
        { q: "Which protocol resolves a MAC address to an IP address?", o: ["ARP", "RARP", "DHCP", "DNS"], a: 1 },
        { q: "The 'Mesh' topology with 'n' nodes requires how many links?", o: ["n", "n-1", "n(n-1)/2", "n*n"], a: 2 },
        { q: "What is 'Broadband'?", o: ["A narrow wire", "High-speed data transmission", "A specific radio freq", "None"], a: 1 },
        { q: "Which port is used for SMTP?", o: ["21", "25", "53", "110"], a: 1 },
        { q: "What is the purpose of the 'Session' layer?", o: ["Encryption", "Maintain and synchronize dialogue", "Route packets", "Bit timing"], a: 1 },
        { q: "Which protocol is used for secure remote login?", o: ["Telnet", "SSH", "FTP", "SNMP"], a: 1 },
        { q: "What is the data unit at the Physical layer?", o: ["Bits", "Frames", "Packets", "Segments"], a: 0 },
        { q: "Which device is used to connect segments of the same LAN?", o: ["Router", "Bridge", "Gateway", "Modem"], a: 1 },
        { q: "What is the maximum number of hosts in a Class C network?", o: ["126", "254", "65534", "16M"], a: 1 },
        { q: "Which protocol is used for streaming media?", o: ["TCP", "UDP", "FTP", "SMTP"], a: 1 },
        { q: "What is 'Flow Control'?", o: ["Managing data loss", "Managing data rate between sender and receiver", "Managing traffic jams", "None"], a: 1 },
        { q: "Which cable uses light for transmission?", o: ["UTP", "Coaxial", "Fiber Optic", "STP"], a: 2 },
        { q: "What is the default port for IMAP?", o: ["110", "143", "443", "25"], a: 1 },
        { q: "Which layer converts bits into frames?", o: ["Physical", "Data Link", "Network", "Transport"], a: 1 },
        { q: "The IP address 127.0.0.1 is used for:", o: ["Testing the NIC", "Broadcasting", "Multicasting", "Public access"], a: 0 },
        { q: "Which device operates at all 7 layers of the OSI?", o: ["Hub", "Switch", "Router", "Gateway"], a: 3 },
        { q: "What is 'Piggybacking' mainly used for?", o: ["Security", "Efficiency", "Error control", "Reliability"], a: 1 },
        { q: "Which protocol provides error reporting in IP networks?", o: ["TCP", "UDP", "ICMP", "ARP"], a: 2 },
        { q: "What is the length of an IPv6 header?", o: ["20 bytes", "40 bytes", "60 bytes", "80 bytes"], a: 1 },
        { q: "Which port does DHCP use?", o: ["67 & 68", "20 & 21", "53 & 54", "80 & 443"], a: 0 },
        { q: "What is 'Propagation Delay'?", o: ["Time to process", "Time for a bit to travel from A to B", "Time to send a frame", "Time in queue"], a: 1 },
        { q: "The 'Transport' layer of OSI maps to which TCP/IP layer?", o: ["Network", "Transport", "Internet", "Application"], a: 1 },
        { q: "Which is a valid IPv4 address?", o: ["192.168.1", "256.0.0.1", "172.16.254.1", "10.0.0.255.1"], a: 2 },
        { q: "Which layer manages host-to-host communication?", o: ["Session", "Presentation", "Application", "Transport"], a: 3 },
        { q: "What is the max speed of Fast Ethernet?", o: ["10 Mbps", "100 Mbps", "1 Gbps", "10 Gbps"], a: 1 },
        { q: "Which protocol is used for clock synchronization?", o: ["NTP", "SNMP", "SMTP", "HTTP"], a: 0 },
        { q: "What is a 'Socket'?", o: ["A physical port", "Combination of IP and Port", "A network cable", "A type of switch"], a: 1 },
        { q: "Which network type is Bluetooth?", o: ["LAN", "MAN", "PAN", "WAN"], a: 2 }
    ],
    "4": [
        { q: "Which device is used to amplify the signal in a network?", o: ["Hub", "Switch", "Repeater", "Bridge"], a: 2 },
        { q: "What is the purpose of the 'Transport Layer'?", o: ["Bit transfer", "Routing", "Process-to-process delivery", "Dialogue control"], a: 2 },
        { q: "What is the default subnet mask for a Class A address?", o: ["255.255.255.0", "255.255.0.0", "255.0.0.0", "0.0.0.0"], a: 2 },
        { q: "Which layer does the 'IP' protocol work at?", o: ["Transport", "Network", "Data Link", "Physical"], a: 1 },
        { q: "What is the port number for HTTP?", o: ["25", "80", "110", "443"], a: 1 },
        { q: "Which protocol is used to fetch web pages?", o: ["FTP", "SMTP", "HTTP", "SNMP"], a: 2 },
        { q: "What is 'Subnetting'?", o: ["Combining networks", "Dividing a network into smaller networks", "Using multiple routers", "None"], a: 1 },
        { q: "The 'Data Link' layer is divided into which two sublayers?", o: ["TCP and IP", "MAC and LLC", "Network and Physical", "None"], a: 1 },
        { q: "Which device learns the MAC address of devices connected to it?", o: ["Hub", "Switch", "Repeater", "Amplifier"], a: 1 },
        { q: "What is the range of a private Class C IP address?", o: ["10.x.x.x", "172.16.x.x", "192.168.x.x", "127.x.x.x"], a: 2 },
        { q: "Which protocol is used for real-time video conferencing?", o: ["TCP", "UDP", "FTP", "SMTP"], a: 1 },
        { q: "What is the standard for Token Ring?", o: ["802.3", "802.4", "802.5", "802.6"], a: 2 },
        { q: "A 'Switch' is also known as a:", o: ["Multi-port hub", "Multi-port bridge", "Multi-port router", "None"], a: 1 },
        { q: "What is the function of the 'Application' layer?", o: ["Bit transmission", "Encryption", "User interface and network services", "Routing"], a: 2 },
        { q: "Which port does HTTPS use?", o: ["80", "110", "443", "143"], a: 2 },
        { q: "What is 'Half Duplex'?", o: ["One way only", "Two ways but one at a time", "Two ways simultaneously", "None"], a: 1 },
        { q: "Which layer is responsible for error-free delivery of frames?", o: ["Physical", "Data Link", "Network", "Transport"], a: 1 },
        { q: "What is the maximum number of nodes in a 10Base2 network per segment?", o: ["30", "100", "512", "1024"], a: 0 },
        { q: "Which protocol is used to resolve hostnames to IP addresses?", o: ["ARP", "DHCP", "DNS", "RARP"], a: 2 },
        { q: "What is the data unit at the Network layer?", o: ["Frame", "Packet", "Segment", "Bit"], a: 1 },
        { q: "Which device works at the Physical layer to extend cable length?", o: ["Switch", "Router", "Gateway", "Repeater"], a: 3 },
        { q: "What is the purpose of 'NAT'?", o: ["Assigning IPs", "Security", "Connecting private IPs to public internet", "None"], a: 2 },
        { q: "Which protocol is reliable but slow?", o: ["UDP", "IP", "TCP", "ICMP"], a: 2 },
        { q: "The 'Physical' layer deals with:", o: ["Frames", "Routing", "Bits", "Sessions"], a: 2 },
        { q: "Which topology is most used in modern LANs?", o: ["Bus", "Star", "Ring", "Mesh"], a: 1 },
        { q: "What is 'VLAN'?", o: ["Very Local Area Network", "Virtual Local Area Network", "Visual LAN", "None"], a: 1 },
        { q: "Which port is used by FTP Data?", o: ["20", "21", "22", "23"], a: 0 },
        { q: "Which layer handles character code translation (ASCII to EBCDIC)?", o: ["Application", "Presentation", "Session", "Transport"], a: 1 },
        { q: "What is 'Multicasting'?", o: ["One to many", "One to all", "Many to many", "One to one"], a: 0 },
        { q: "Which network spans across countries?", o: ["LAN", "MAN", "WAN", "PAN"], a: 2 },
        { q: "What is 'Packet Switching'?", o: ["Data is broken into packets and sent independently", "Dedicated path", "A type of router", "None"], a: 0 },
        { q: "Which protocol is used for network time?", o: ["SNMP", "NTP", "FTP", "HTTP"], a: 1 },
        { q: "The 10 in 10BaseT stands for:", o: ["10 meters", "10 Mbps", "10 users", "None"], a: 1 },
        { q: "What is the function of the 'Network' layer?", o: ["Dialogue control", "End-to-end delivery", "Routing and logical addressing", "Error detection"], a: 2 },
        { q: "Which device is a 'smart hub'?", o: ["Switch", "Repeater", "Bridge", "Gateway"], a: 0 },
        { q: "Which protocol is used by 'Ping'?", o: ["ARP", "ICMP", "TCP", "UDP"], a: 1 },
        { q: "What is a 'Firewall'?", o: ["Hardware or software that prevents unauthorized access", "A heating device", "A virus", "A type of cable"], a: 0 },
        { q: "Which cable is made of glass or plastic?", o: ["Coaxial", "Fiber Optic", "UTP", "STP"], a: 1 },
        { q: "What is 'Bandwidth'?", o: ["The width of the wire", "The amount of data that can be transmitted in a given time", "Signal strength", "None"], a: 1 },
        { q: "Which OSI layer is responsible for flow control at the process level?", o: ["Data Link", "Network", "Transport", "Session"], a: 2 }
    ],
    "5": [
        { q: "Which protocol is used to access web services?", o: ["FTP", "SMTP", "HTTP", "POP3"], a: 2 },
        { q: "What is 'Encryption'?", o: ["Compressing data", "Scrambling data for security", "Deleting data", "None"], a: 1 },
        { q: "Which layer is the 'OSI model's' bottom-most layer?", o: ["Data Link", "Physical", "Network", "Transport"], a: 1 },
        { q: "What is the purpose of 'VPN'?", o: ["Virtual Private Network for secure remote access", "A type of router", "Faster internet", "None"], a: 0 },
        { q: "Which port does SMTP use?", o: ["21", "25", "80", "110"], a: 1 },
        { q: "What is 'Jitter'?", o: ["Signal loss", "Variability in packet arrival time", "Slow internet", "None"], a: 1 },
        { q: "Which device is used for connecting to the internet?", o: ["Hub", "Switch", "Modem", "Repeater"], a: 2 },
        { q: "What is 'Full-Duplex'?", o: ["One-way communication", "Two-way communication, one at a time", "Two-way communication simultaneously", "None"], a: 2 },
        { q: "Which layer manages the 'Checkpoints' in data transfer?", o: ["Application", "Presentation", "Session", "Transport"], a: 2 },
        { q: "What is 'latency'?", o: ["Speed", "Delay in network", "Data loss", "None"], a: 1 },
        { q: "Which protocol is used to map IP to MAC?", o: ["DNS", "DHCP", "ARP", "ICMP"], a: 2 },
        { q: "What is 'TCP'?", o: ["Connection-oriented protocol", "Connectionless protocol", "Network layer protocol", "None"], a: 0 },
        { q: "Which port does FTP Control use?", o: ["20", "21", "22", "23"], a: 1 },
        { q: "What is the function of the 'Presentation' layer?", o: ["Routing", "Data representation and encryption", "Error control", "Dialogue management"], a: 1 },
        { q: "Which cable has a central copper conductor?", o: ["Coaxial", "Fiber Optic", "UTP", "STP"], a: 0 },
        { q: "What is 'MAN'?", o: ["Local Area Network", "Metropolitan Area Network", "Wide Area Network", "Personal Area Network"], a: 1 },
        { q: "Which device is used to route packets between different networks?", o: ["Hub", "Switch", "Router", "Repeater"], a: 2 },
        { q: "What is 'Piggybacking' in networking?", o: ["Stealing data", "Including ACK in a data frame", "Compressing files", "None"], a: 1 },
        { q: "Which protocol is used to send email from a client to a server?", o: ["POP3", "IMAP", "SMTP", "HTTP"], a: 2 },
        { q: "What is the size of a MAC address?", o: ["32-bit", "48-bit", "64-bit", "128-bit"], a: 1 },
        { q: "Which layer of OSI model provides service to the user?", o: ["Physical", "Session", "Presentation", "Application"], a: 3 },
        { q: "What is 'Broadband' transmission?", o: ["Transmission using a narrow frequency band", "Transmission using multiple frequency bands", "Low-speed transmission", "None"], a: 1 },
        { q: "Which device is used to connect different types of networks?", o: ["Router", "Switch", "Gateway", "Hub"], a: 2 },
        { q: "What is 'Simplex' communication?", o: ["Two-way", "One-way only", "Both ways but one at a time", "None"], a: 1 },
        { q: "Which port does DNS use?", o: ["53", "80", "443", "110"], a: 0 },
        { q: "What is the role of the 'Physical Layer'?", o: ["Logical addressing", "Bit-by-bit delivery over a physical medium", "Routing", "Framing"], a: 1 },
        { q: "Which protocol is used for secure file transfer?", o: ["FTP", "SFTP", "HTTP", "SMTP"], a: 1 },
        { q: "What is the maximum speed of Gigabit Ethernet?", o: ["10 Mbps", "100 Mbps", "1000 Mbps", "10000 Mbps"], a: 2 },
        { q: "Which topology is easy to install but fails if the central hub fails?", o: ["Bus", "Star", "Ring", "Mesh"], a: 1 },
        { q: "What is 'NAT'?", o: ["Network Address Translation", "New Address Tech", "Network Access Tool", "None"], a: 0 },
        { q: "Which protocol is used to manage network devices like routers?", o: ["HTTP", "SNMP", "SMTP", "FTP"], a: 1 },
        { q: "What is the range of Class B IP addresses?", o: ["1-126", "128-191", "192-223", "224-239"], a: 1 },
        { q: "Which device is used at the Data Link layer to filter traffic?", o: ["Hub", "Repeater", "Switch", "Amplifier"], a: 2 },
        { q: "What is 'Attentuation'?", o: ["Increasing signal strength", "Decrease in signal strength over distance", "Frequency shift", "None"], a: 1 },
        { q: "Which port does SSH use?", o: ["21", "22", "23", "25"], a: 1 },
        { q: "What is the data unit at the Transport layer?", o: ["Frame", "Packet", "Segment", "Bit"], a: 2 },
        { q: "Which layer is responsible for routing?", o: ["Data Link", "Network", "Transport", "Physical"], a: 1 },
        { q: "What is 'WPA2'?", o: ["A network protocol", "A Wi-Fi security standard", "A hardware device", "None"], a: 1 },
        { q: "Which device regenerates the signal but does not filter packets?", o: ["Switch", "Router", "Repeater", "Gateway"], a: 2 },
        { q: "What is the purpose of a 'Subnet Mask'?", o: ["To hide the IP", "To distinguish the network part from the host part", "To encrypt data", "None"], a: 1 }
    ]
};

const urlParams = new URLSearchParams(window.location.search);
const setId = urlParams.get('set') || "1";
document.getElementById('set-info').innerText = `CCE Practice Set: ${setId}`;

const questionsArea = document.getElementById('questions-area');
const activeQs = quizData[setId];

if(activeQs) {
    activeQs.forEach((item, idx) => {
        let html = `<div class="question" id="q-block-${idx}">
            <p class="q-text">${idx + 1}. ${item.q}</p>`;
        item.o.forEach((opt, i) => {
            html += `<label class="option">
                <input type="radio" name="q${idx}" value="${i}" onclick="markAsAnswered(${idx})"> ${opt}
            </label>`;
        });
        html += `</div>`;
        questionsArea.innerHTML += html;
    });
}

function markAsAnswered(idx) {
    document.getElementById(`q-block-${idx}`).classList.remove('unanswered');
}

function checkSubmission() {
    let unattemptedCount = 0;
    activeQs.forEach((_, idx) => {
        if (!document.querySelector(`input[name="q${idx}"]:checked`)) {
            unattemptedCount++;
            document.getElementById(`q-block-${idx}`).classList.add('unanswered');
        }
    });

    if (unattemptedCount > 0) {
        alert(`Incomplete Submission: You have left ${unattemptedCount} questions unanswered.`);
        const first = document.querySelector('.unanswered');
        if (first) first.scrollIntoView({ behavior: 'smooth', block: 'center' });
    } else {
        calculateScore();
    }
}

function calculateScore() {
    let score = 0, correct = 0, wrong = 0;
    activeQs.forEach((item, idx) => {
        const selected = document.querySelector(`input[name="q${idx}"]:checked`);
        if (parseInt(selected.value) === item.a) { score += 3; correct++; } else { score -= 1; wrong++; }
    });

    const percentage = ((correct / activeQs.length) * 100).toFixed(2);
    document.getElementById('perc-display').innerText = percentage + "%";
    document.getElementById('stats-area').innerHTML = `
        <div class="stat-line"><span>Total Questions:</span> <b>${activeQs.length}</b></div>
        <div class="stat-line" style="color:green"><span>Correct:</span> <b>${correct}</b></div>
        <div class="stat-line" style="color:red"><span>Wrong:</span> <b>${wrong}</b></div>
        <div class="stat-line" style="font-weight:bold; font-size:1.3rem; margin-top:10px;">
            <span>Final Score: ${score} / ${activeQs.length * 3}</span>
        </div>`;
    document.getElementById('result-modal').style.display = "flex";
}

function closeModal() {
    document.getElementById('result-modal').style.display = "none";
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>